name: Generate Contributors by Categories

on:
    push:
    pull_request:
    schedule:
        - cron: '0 0 * * 0'
    workflow_dispatch:

jobs:
    build:
        runs-on: ubuntu-latest
        permissions:
            contents: write

        steps:
            - name: Contributors by categories
              uses: lowlighter/metrics@latest
              with:
                  token: ${{ secrets.METRIC_TOKEN }}
                  user: raj8664
                  repo: Prep
                  template: repository
                  base: ''
                  filename: metrics.plugin.contributors.categories.svg
                  plugin_contributors: yes
                  plugin_contributors_sections: categories
                  plugin_contributors_categories: |
                      {
                        "ğŸ§© Plugins / ğŸ–¼ï¸ templates": ["source/plugins/**", "source/templates/**"],
                        "ğŸ“š Documentation": ["README.md", "**/README.md", "**/metadata.yml"],
                        "ğŸ’» Code (other)": ["source/**", "Dockerfile"]
                      }
